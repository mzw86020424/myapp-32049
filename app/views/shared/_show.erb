<style>
  .col-md-6 {
    /* border: solid 1px black; */
    margin:5px 0 
  }
  .col-md-6 img {
    width:100%;
    max-width: 100%;
    height: auto;
  }
</style>

<body class="container-fluid">
  <div>
    <div class="sortable row">
    <% @posts.each_with_index do |post,i| %>
      <div class="col-md-6 content-post rounded shadow" id="<%=i%>">
      <%= link_to image_tag(thumbalizr_url(post.url, {:country => 'ja', :width =>  960})), post.url, :target => "_blank"%>
      </div>
    <% end %> 
    </div>
  </div>

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>


<!-- jQuery UI -->
<script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js" integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30=" crossorigin="anonymous"></script>


<%# jQuery UI Touch Punch %>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui-touch-punch/0.2.3/jquery.ui.touch-punch.min.js"></script>
<!-- jQuery cookie -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>


<%# Sortable %>
<script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>

<%# sortable %>
<script type="text/javascript">
$(function() {
    $(".sortable").sortable({
          delay: 900,
          scroll: true,
        });
    $(".sortable").disableSelection();
    $(".sortable").sortable({
        update: function(ev, ui) {
            var updateArray =  $(".sortable").sortable("toArray").join(",");
            $.cookie("sortable", updateArray, {expires: 30});
        }       
    });
    if($.cookie("sortable")) {
        var cookieValue = $.cookie("sortable").split(",").reverse();
        $.each(
            cookieValue,
            function(index, value) {$('#'+value).prependTo(".sortable");}
        );
    }
});
</script>

</body>